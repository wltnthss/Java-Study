## 2주차 과제

### 목표
프리미티브타입, 변수 그리고 배열을 사용하는 방법을 익힙니다.
### 학습할 내용
- 프리미티브 타입 종류와 값의 범위 그리고 기본 값
- 프리미티브 타입과 레퍼런스 타입
- 리터럴
- 변수 선언 및 초기화하는 방법
- 변수의 스코프와 라이프타임
- 타입 변환, 캐스팅 그리고 타입 프로모션
- 1차 및 2차 배열 선언하기
- 타입 추론, var

### 1-1 프리미티브 타입 종류와 값의 범위 그리고 기본 값
타입(Data type)이란 해당 데이터가 메모리에 어떻게 저장되고, 프로그램에서 어떻게 처리되어야 하는지를 명시적으로 알려주는 것입니다. 자바에서 타입은 크게 기본형(Primitive Type)과 참조형(Reference) 타입 두 가지로 나뉩니다.

<img src="https://t1.daumcdn.net/cfile/tistory/991A15355B6140F125" width="500" height="300"> <br>
출처 : <https://kingpodo.tistory.com/54>

프리미티브 타입은 총 8가지로 정의되며 정수, 실수, 문자, 논리 리터럴을 직접 저장하는 타입을 말합니다. 프리미티브 타입은 기본 값이 있기 때문에 Null이 존재하지 않으며 Null을 넣고 싶다면 래퍼 클래스를 활용해야 합니다. 실제 값은 스택(Stack)메모리에 저장됩니다.

정수 타입에는 byte, char, short, int, long 실수 타입에는 float, double 논리 타입에는 boolean이 있습니다. 각 타입에 해당하는 메모리의 크기와 저장되는 값의 범위는 위의 표와 같습니다.

메모리에는 0과 1을 저장하는 최소 기억 단위인 비트로 존재합니다. 그리고 8개의 비트를 묶어서 1byte라고 합니다. 때문에 바이트의 크기가 클 수록 표현할 수 있는 값의 범위는 큽니다.

기본적으로 변수마다 사용할 수 있는 메모리의 크기 범위는 기억해둬야 합니다. 그 이유는 사용할 수 있는 값의 범위를 넘어서면 오버플로우 현상이 발생하기 때문입니다. 1byte는 8bit로 이루어져있어 최대 값인 127을 초과하면 -128로 원하지 않는 값이 들어가게 됩니다. 따라서 변수형 타입 값의 범위는 잘알아두고 상황에 맞게 사용해야합니다.

**byte - 1byte, char - 2byte, short - 2byte, int - 4byte, long - 8byte, float - 4byte, double - 8byte, boolean - 1byte**

### 1-2 프리미티브 타입과 레퍼런스 타입
<img src="https://mblogthumb-phinf.pstatic.net/20150117_213/highkrs_1421425975864eM6G8_PNG/%B1%D7%B8%B21.png?type=w2" width="500" height="300"> <br>
출처 : <https://m.blog.naver.com/PostView.nhn?blogId=highkrs&logNo=220242895539&proxyReferer=https:%2F%2Fwww.google.com%2F>

데이터 타입의 전체적인 구조는 위의 사진과 같습니다. 레퍼런스 타입과 프리미티브 타입의 가장 큰 차이점은 메모리의 각각의 공간에 실제 값이 들어가면 프리미티브 타입, 다른 것을 참조하기 위한 주소값이 들어가면 레퍼런스 타입으로 정의 할 수 있습니다. 프리미티브 타입에 대해서는 알아보았으니 레퍼런스 타입에 대해서 자세하게 알아보겠습니다.

레퍼런스타입은 크게 4가지로 클래스 타입, 인터페이스 타입, 배열 타입, 열거 타입이 있습니다. 빈 객체를 의미하는 Null이 존재하며 값이 저장되어 있는 곳의 주소값은 저장하는 공간으로 힙(Heap)메모리에 저장됩니다. 기본형 타입을 제외한 모든 타입은 레퍼런스타입이라고 정의합니다.

레퍼런스타입은 C언어의 포인터와 유사하며, 배열, 열거, 클래스, 인터페이스를 이용하여 선언된 변수를 메모리에 번지를 값으로 갖게 됩니다. 즉, 번지를 통해 객체를 참조한다라고 정의합니다.

예제를 통해서 알아보겠습니다.
```Java
Student person;
person = new Student();
```
코드를 위와 같이 작성하면 person에는 주소값이 들어갑니다. Student 실제 객체는 메모리 어딘가에 할당되고, person 변수는 그 객체의 주소값을 담아서 사용 가능합니다.

new 라는 키워드로 메모리에 올라간 객체를 인스턴스라고 말하며, 메모리에 올라간 인스턴스를 가리키는 변수, 참조하는 변수, 레퍼런스 하는 변수가 person입니다. 레퍼런스 한다라는 것은 변수가 인스턴스를 가지고 있는게 아니라 가리킨다라고 정의할 수 있습니다.

### 1-3 리터럴
자바의 모든 변수는 리터럴과 데이터 타입으로 구성되어있습니다. 리터럴과 데이터 타입의 차이는, 리터럴은 실제 프로그램 코드에 나와있지만 데이터 타입은 리터럴에 들어갈 변수가 얼마나 많은 메모리 공간을 차지할 것인가에 대한 정보를 말하는 것입니다.

리터럴이란, 그 자체로 값을 의미합니다.   
int num = 1; 문구에서 1이 리터럴을 의미하는 것입니다.

리터럴은 상수와 유사하지만 프로그래밍에서의 상수는 '값을 한 번 지정하면 변경할 수 없는 저장공간'으로 정의하기 때문에 '리터럴'이라는 용어를 사용합니다.

그렇다면 리터럴을 사용하는 목적은 무엇일까요? 아주 간단하게 데이터 타입을 표현하는 방법을 명확하게하기 위함입니다.

간단한 코드를 예를 들어보자면
```java
int i = 10;
long j = 10;

// 리터럴 사용
int i = 10;
long j = 10L;
```
자바에서 데이터를 표현하는 방식은 데이터타입, 변수, 그리고 상수, 상수를 정확하게 표현하기 위한 리터럴이 존재합니다. 위의 코드에서 리터럴이 필요한 이유는 long형은 int형의 범위를 포함하기 때문에 10의 메모리의 크기가 int형인지, long형인지 구분하기 위함입니다.

### 1-4 변수 선언 및 초기화하는 방법
변수의 선언이란 데이터를 저장하기 위해 메모리에 할당하는 것을 말합니다. 그리고 선언한 변수에 값을 넣는 것을 초기화라고 합니다.

선언 및 초기화하는 방법에는 두 가지가 있습니다.
- 변수 선언 후 초기화 하는 방법
```java
int number;
number = 10;
```
- 변수 선언과 동시에 초기화 하는 방법
```java
int number = 10;
```
초기화 하는 방법은 선택적이며 자바에서 멤버변수는 초기화를 하지않아도 자동적으로 자료형에 맞는 기본값으로 초기화가 이루어집니다. 멤버변수의 초기화는 선택이지만, 지역변수의 초기화는 하지 않으면 에러가 발생하므로 필수적으로 해주어야합니다.

### 1-5 변수의 스코프와 라이프타임

```java
public class Scope{

    int globalScope = 10;   

    public void scopeTest(int value){  

        int localScope = 10;
    }
}
```
변수는 블럭안에서 사용 가능한 범위를 가지는데 이 범위를 변수의 스코프라고 정의합니다. globalScope는 전역변수로 Scope 클래스 안에서도 호출하여 사용가능하며 매개변수로 선언된 int value는 블럭 바깥에 존재하기는 하지만, 메소드 선언부안에 존재하므로 사용 범위는 해당 메소드 블럭내입니다.

라이프타임은 변수가 메모리에서 살아있는 기간을 뜻합니다. 라이프 타임은 클래스 변수, 인스턴스 변수, 지역 변수 세 가지로 나뉩니다.

|변수 종류|라이프 타임|
|:---:|:-----:|
|클래스 변수|프로그램 종료시까지|
|인스턴스 변수|객체가 메모리에 존재하는 동안|
|지역 변수|메소드 수행|

### 1-6 타입 변환, 캐스팅 그리고 타입 프로모션
하나의 타입을 다른 타입으로 변환하는 과정을 타입 변환이라고 합니다. Java는 bool type을 제외한 나머지 기본형 타입 변환을 자유롭게 수행할 수 있습니다.

메모리에 할당받은 바이트의 크기가 작은 타입에서 큰 타입으로의 변환은 생략할 수 있으나 큰 타입에서 작은 타입으로의 타입 변환은 데이터의 손실이 발생합니다. 이 때의 사용하는 타입 변한이 묵시접 타입 변환(자동 타입 변환)이라고 부르는 Promotion과 명시적 타입 변환(강제 타입 변환) 두 가지로 나뉩니다.

#### 묵시적 타입 변환(자동 타입 변환) : Promotion   
Promotion은 작은 타입이 큰 타입으로 변환되는 기법을 말합니다.   
byte -> short(char) -> int -> long -> float -> double 와 같이 왼쪽에서 오른쪽으로 데이터의 크기가 증가합니다.

```Java
double num = 10;
double num2 = 7.0f + 3.14;

실행결과 : 10.0
실행결과 : 10.14
```
위의 코드처럼 자바에서는 데이터의 손실이 최소화되도록 자동 타입 변환이 진행됩니다.

#### 명시적 타입 변환(강제 타입 변환) : Casting
Casting은 Promotion과 반대로 큰 타입이 작은 타입으로 변환되는 기법을 말합니다.

```Java
int num1 = 1, num2 = 4;
double result1 = num1 / num2;
double result2 = (double) num1 / num2;

실행결과 : 0.0
실행결과 : 0.25
```
산술 연산을 수행하고 있는 결과값의 타입은 항상 피연산자의 타입과 일치해야 합니다. 즉, int형 데이터끼리의 산술 연산은 int형의 데이터 결과로 나옵니다. 1/4의 나누기 결과값은 0.25지만 int형으로 자동 타입 변환이 이루어져 0이 반환되어집니다.

따라서 정확한 산술 결과값을 얻고자 한다면 피연산자 중 하나의 타입을 강제 타입 변환(Promotion) 해주어야 합니다.

### 1-7 1차 및 2차 배열 선언하기
자바에서는 배열은 객체이므로, Heap영역에 생성되어집니다. 배열은 각각의 값을 배열 요소라고 말하며, 위치를 가리키는 숫자를 인덱스라고 합니다. 인덱스는 0부터 시작하며, 0을 포함하여 양의 정수만을 가질 수 있습니다.

같은 종류의 데이터를 많이 다루는 경우에 사용하는 기본적인 자료 구조이며, 선언되는 형식에 따라 1차원 배열, 2차원 배열, 다차원 배열로 선언 가능합니다.

#### 1차원배열
<img src ="http://2.bp.blogspot.com/-R51P_y52vCM/TdE2DRCLt6I/AAAAAAAAAG4/yoPfEOLIhso/s400/one_diamentional-array.gif" width="400" height="200"> <br>
출처 : <http://alecture.blogspot.com/2011/04/array.html>

배열은 위의 사진과 같이 많이 사용됩니다다. 배열도 변수와 마찬가지로 선언과 동시에 초기화가 가능합니다. a는 스택영역에 int를 12개 저장할 수 있는 공간은 Heap에 저장됩니다.

#### 2차원배열   
<img src ="http://www.tcpschool.com/lectures/img_java_array23.png" width="400" height="200"> <br>
출처 : <http://www.tcpschool.com/java/java_array_twoDimensional>

arr변수는 Stack에 저장되어지고 실제 2차원 배열은 Heap 메모리에 저장되어 있습니다.

```java
int[][] arr = {
    {10, 20, 30},
    {40, 50, 60}
};
```
위의 코드와 같이 2차원 배열을 초기화 형태로 초기화해서도 사용할 수 있습니다.

### 1-8 타입 추론, var
Java10 부터 타입 추론을 지원하는 var키워드가 추가되었습니다. 이 키워드는 local variable(지역 변수)이며 선언과 동시에 initializer가 필수적으로 요구됩니다.

타입 추론이란 정적 타이핑을 지원하는 언어에서, 타입이 정해지지 않은 변수에 대해서 컴파일러가 변수의 타입을 스스로 찾아낼 수 있도록 하는 기능입니다.

그렇다면 왜 타입 추론을 이용할까? 에 대해서 생각해보자면 타입 추론을 사용하면 타입을 명시하지 않아도 된다는 말이므로 **코드량이 줄어드므로 코드의 가독성을 높일 수 있다.** 라고 생각할 수 있습니다.

```java
// java9이하
String name = "Test";
//java10이상 타입 추론, var 사용
var name = "Test";
```
위의 코드와 같이 타입 추론 var을 사용하여 타입을 명시하지 않아도 됩니다.

사용하는데 주의 할점으로는 반드시 초기화를 해주어야하고 null은 타입추론을 하지 못합니다.
```java
var = name = new ArrayList<>();   //error 발생
```
제너럴을 사용하면 컴파일 에러가 발생하며 IDE가 없으면 어떤 데이터 타입이 들어오는지 확인이 어렵다는 단점이 있습니다.

### 후기 및 느낀점
각각의 기본형과 참조형 변수가 어떻게 저장되어지는 이해했지만, 정확히 어느 메모리에 저장되어지는지에 대해 추가 정리 필요 전체적인 개념을 한 번 더 정리하며 메모리 구조에 대해 정리해보자.
